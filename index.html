<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Anshuman Tekriwal — Work</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="topbar">
      <a href="#" class="topbar-logo">
        <span class="typing-animation"
          >Anshuman<span class="large-dot">.</span></span
        >
        <span class="designation">Student Developer</span>
      </a>
      <div class="topbar-links">
        <a href="#" class="external-link"
          >LinkTree<span class="arrow">↗</span></a
        >
        <a href="#" class="external-link"
          >LinkedIn<span class="arrow">↗</span></a
        >
        <a href="#" class="external-link">Resume<span class="arrow">↗</span></a>
        <a href="#" class="external-link">GitHub<span class="arrow">↗</span></a>
      </div>
    </div>
    <nav class="capsule-menu">
      <button class="active">Work</button>
      <button>Info</button>
    </nav>
    <main>
      <section id="work-section" class="content-section active"></section>

      <section id="info-section" class="content-section"></section>
    </main>

    <script>
      // Capsule menu code
      const capsuleMenu = document.querySelector(".capsule-menu");
      const workSection = document.getElementById("work-section");
      const infoSection = document.getElementById("info-section");

      capsuleMenu.addEventListener("click", (e) => {
        if (e.target.tagName === "BUTTON") {
          const activeButton = document.querySelector(".capsule-menu .active");
          activeButton.classList.remove("active");
          e.target.classList.add("active");

          if (e.target.textContent === "Work") {
            workSection.style.display = "flex"; // Show work section
            infoSection.style.display = "none"; // Hide info section
            capsuleMenu.classList.remove("info-active");
          } else if (e.target.textContent === "Info") {
            infoSection.style.display = "block"; // Show info section
            workSection.style.display = "none"; // Hide work section
            capsuleMenu.classList.add("info-active");
          }
        }
      });

      // Updated code for changing text with animation
      const changingText = document.getElementById("changing-text");
      const words = [
        "Machine Learning",
        "Neural Networks",
        "Deep Learning",
        "Language Models",
        "Computer Vision",
      ];
      let currentIndex = 0;

      function changeText() {
        changingText.classList.add("fade");

        setTimeout(() => {
          changingText.textContent = words[currentIndex];
          currentIndex = (currentIndex + 1) % words.length;
          changingText.classList.remove("fade");
        }, 500);
      }

      setInterval(changeText, 2000); // Change text every 3 seconds

      // Added code to force video playback
      document.addEventListener("DOMContentLoaded", (event) => {
        const video = document.getElementById("customAnimation");
        video.play().catch((error) => {
          console.error("Error attempting to play video: ", error);
        });
      });
    </script>
  </body>
</html>
